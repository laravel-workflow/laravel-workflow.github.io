"use strict";(self.webpackChunklaravel_workflow=self.webpackChunklaravel_workflow||[]).push([[4641],{3905:(e,n,o)=>{o.d(n,{Zo:()=>c,kt:()=>g});var r=o(7294);function t(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function i(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.push.apply(o,r)}return o}function l(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?i(Object(o),!0).forEach((function(n){t(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))}))}return e}function a(e,n){if(null==e)return{};var o,r,t=function(e,n){if(null==e)return{};var o,r,t={},i=Object.keys(e);for(r=0;r<i.length;r++)o=i[r],n.indexOf(o)>=0||(t[o]=e[o]);return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)o=i[r],n.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(t[o]=e[o])}return t}var s=r.createContext({}),p=function(e){var n=r.useContext(s),o=n;return e&&(o="function"==typeof e?e(n):l(l({},n),e)),o},c=function(e){var n=p(e.components);return r.createElement(s.Provider,{value:n},e.children)},u="mdxType",f={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var o=e.components,t=e.mdxType,i=e.originalType,s=e.parentName,c=a(e,["components","mdxType","originalType","parentName"]),u=p(o),d=t,g=u["".concat(s,".").concat(d)]||u[d]||f[d]||i;return o?r.createElement(g,l(l({ref:n},c),{},{components:o})):r.createElement(g,l({ref:n},c))}));function g(e,n){var o=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var i=o.length,l=new Array(i);l[0]=d;var a={};for(var s in n)hasOwnProperty.call(n,s)&&(a[s]=n[s]);a.originalType=e,a[u]="string"==typeof e?e:t,l[1]=a;for(var p=2;p<i;p++)l[p]=o[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,o)}d.displayName="MDXCreateElement"},577:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>p});var r=o(7462),t=(o(7294),o(3905));const i={sidebar_position:1},l="Publishing Config",a={unversionedId:"configuration/publishing-config",id:"configuration/publishing-config",title:"Publishing Config",description:"This will create a workflows.php configuration file in your config folder.",source:"@site/docs/configuration/publishing-config.md",sourceDirName:"configuration",slug:"/configuration/publishing-config",permalink:"/docs/configuration/publishing-config",draft:!1,editUrl:"https://github.com/durable-workflow/durable-workflow.github.io/edit/main/docs/configuration/publishing-config.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Configuration",permalink:"/docs/category/configuration"},next:{title:"Options",permalink:"/docs/configuration/options"}},s={},p=[{value:"Changing Workflows Folder",id:"changing-workflows-folder",level:2},{value:"Using Custom Models",id:"using-custom-models",level:2},{value:"Changing Serializer",id:"changing-serializer",level:2}],c={toc:p};function u(e){let{components:n,...o}=e;return(0,t.kt)("wrapper",(0,r.Z)({},c,o,{components:n,mdxType:"MDXLayout"}),(0,t.kt)("h1",{id:"publishing-config"},"Publishing Config"),(0,t.kt)("p",null,"This will create a ",(0,t.kt)("inlineCode",{parentName:"p"},"workflows.php")," configuration file in your ",(0,t.kt)("inlineCode",{parentName:"p"},"config")," folder."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-bash"},'php artisan vendor:publish --provider="Workflow\\Providers\\WorkflowServiceProvider" --tag="config"\n')),(0,t.kt)("h2",{id:"changing-workflows-folder"},"Changing Workflows Folder"),(0,t.kt)("p",null,"By default, the ",(0,t.kt)("inlineCode",{parentName:"p"},"make")," commands will write to the ",(0,t.kt)("inlineCode",{parentName:"p"},"app/Workflows")," folder."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-php"},"php artisan make:workflow MyWorkflow\nphp artisan make:activity MyActivity\n")),(0,t.kt)("p",null,"This can be changed by updating the ",(0,t.kt)("inlineCode",{parentName:"p"},"workflows_folder")," setting."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-php"},"'workflows_folder' => 'Workflows',\n")),(0,t.kt)("h2",{id:"using-custom-models"},"Using Custom Models"),(0,t.kt)("p",null,"In the ",(0,t.kt)("inlineCode",{parentName:"p"},"workflows.php")," config file you can update the model classes to use your own."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-php"},"'stored_workflow_model' => App\\Models\\StoredWorkflow::class,\n\n'stored_workflow_exception_model' => App\\Models\\StoredWorkflowException::class,\n\n'stored_workflow_log_model' => App\\Models\\StoredWorkflowLog::class,\n\n'stored_workflow_signal_model' => App\\Models\\StoredWorkflowSignal::class,\n\n'stored_workflow_timer_model' => App\\Models\\StoredWorkflowTimer::class,\n")),(0,t.kt)("h2",{id:"changing-serializer"},"Changing Serializer"),(0,t.kt)("p",null,"This setting allows you to optionally use the Base64 serializer instead of Y (kind of like yEnc encoding where it only gets rid of null bytes). If you change this it will only affect new workflows and old workflows will revert to whatever they were encoded with to ensure compatibility."),(0,t.kt)("p",null,"The default serializer setting in ",(0,t.kt)("inlineCode",{parentName:"p"},"workflows.php")," is:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-php"},"'serializer' => Workflow\\Serializers\\Y::class,\n")),(0,t.kt)("p",null,"To use Base64 instead, update it to:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-php"},"'serializer' => Workflow\\Serializers\\Base64::class,\n")))}u.isMDXComponent=!0}}]);