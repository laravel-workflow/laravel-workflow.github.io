<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Workflows as MCP Tools for AI Clients | Durable Workflow</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://durable-workflow.com/img/docusaurus.png"><meta data-rh="true" name="twitter:image" content="https://durable-workflow.com/img/docusaurus.png"><meta data-rh="true" property="og:url" content="https://durable-workflow.com/blog/laravel-workflows-as-mcp-tools-for-ai-clients"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Workflows as MCP Tools for AI Clients | Durable Workflow"><meta data-rh="true" name="description" content="The Model Context Protocol (MCP) is rapidly becoming the standard way for AI assistants like Claude, ChatGPT, and GitHub Copilot to interact with external tools and services. With Laravel MCP, you can expose your Workflow processes as callable tools that any MCP-compatible AI client can discover, invoke, and monitor."><meta data-rh="true" property="og:description" content="The Model Context Protocol (MCP) is rapidly becoming the standard way for AI assistants like Claude, ChatGPT, and GitHub Copilot to interact with external tools and services. With Laravel MCP, you can expose your Workflow processes as callable tools that any MCP-compatible AI client can discover, invoke, and monitor."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-12-03T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/rmcdaniel"><meta data-rh="true" property="article:tag" content="ai,workflow,mcp,agents,tools"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://durable-workflow.com/blog/laravel-workflows-as-mcp-tools-for-ai-clients"><link data-rh="true" rel="alternate" href="https://durable-workflow.com/blog/laravel-workflows-as-mcp-tools-for-ai-clients" hreflang="en"><link data-rh="true" rel="alternate" href="https://durable-workflow.com/blog/laravel-workflows-as-mcp-tools-for-ai-clients" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://GQ5HIWNNB3-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Durable Workflow RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Durable Workflow Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HD1YHT442Y"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-HD1YHT442Y",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Durable Workflow" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.e0ea9312.css">
<link rel="preload" href="/assets/js/runtime~main.7aeeac24.js" as="script">
<link rel="preload" href="/assets/js/main.0df5bae2.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Workflow Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Workflow Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Durable Workflow</b></a><a class="navbar__item navbar__link" href="/docs/installation">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/durable-workflow/workflow" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/building-a-durable-ai-travel-agent-with-laravel">Building a Durable AI Travel Agent with Laravel</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/laravel-workflows-as-mcp-tools-for-ai-clients">Workflows as MCP Tools for AI Clients</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/building-reliable-agentic-loops-with-laravel-workflow-and-prismphp">Building Reliable Agentic Loops with Workflow and PrismPHP</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/automating-qa-with-playwright-and-laravel-workflow">Automating QA with Playwright and Workflow</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/extending-laravel-workflow-to-support-spatie-laravel-tags">Extending Workflow to Support Spatie Laravel Tags</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Workflows as MCP Tools for AI Clients</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-12-03T00:00:00.000Z" itemprop="datePublished">December 3, 2025</time> · <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/rmcdaniel" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/rmcdaniel.png" alt="Richard"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/rmcdaniel" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Richard</span></a></div><small class="avatar__subtitle" itemprop="description">Core Team</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>The Model Context Protocol (MCP) is rapidly becoming the standard way for AI assistants like Claude, ChatGPT, and GitHub Copilot to interact with external tools and services. With Laravel MCP, you can expose your Workflow processes as callable tools that any MCP-compatible AI client can discover, invoke, and monitor.</p><p>In this post, we&#x27;ll show how to build an MCP server that allows AI clients to:</p><ul><li>Discover available workflows</li><li>Start workflows asynchronously</li><li>Poll for status and retrieve results</li></ul><p>This creates a powerful pattern where AI agents can orchestrate long-running, durable workflows, perfect for complex tasks that can&#x27;t complete in a single request.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-mcp--durable-workflow">Why MCP + Durable Workflow?<a class="hash-link" href="#why-mcp--durable-workflow" title="Direct link to heading">​</a></h3><p>Durable Workflow (formerly Laravel Workflow) excels at durable, stateful execution. MCP excels at giving AI clients structured access to external capabilities. Together, they enable:</p><ul><li><strong>Async AI operations</strong>: Start a workflow, continue the conversation, check results later</li><li><strong>Reliable execution</strong>: Workflows survive crashes, retries, and long wait times</li><li><strong>Observability</strong>: Track every workflow through Waterline&#x27;s dashboard</li><li><strong>Stateless servers</strong>: The MCP server doesn&#x27;t hold state. Clients track workflow IDs</li></ul><p>This mirrors how humans delegate tasks: &quot;Start this report, I&#x27;ll check back later.&quot;</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-were-building">What We&#x27;re Building<a class="hash-link" href="#what-were-building" title="Direct link to heading">​</a></h3><p>We&#x27;ll create an MCP server with three tools:</p><table><thead><tr><th>Tool</th><th>Purpose</th></tr></thead><tbody><tr><td><code>list_workflows</code></td><td>Discover available workflows and view recent runs</td></tr><tr><td><code>start_workflow</code></td><td>Start a workflow and get a tracking ID</td></tr><tr><td><code>get_workflow_result</code></td><td>Check status and retrieve output when complete</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-by-step-implementation">Step-by-Step Implementation<a class="hash-link" href="#step-by-step-implementation" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-install-laravel-mcp">1. Install Laravel MCP<a class="hash-link" href="#1-install-laravel-mcp" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">composer</span><span class="token plain"> require laravel/mcp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">php artisan vendor:publish --tag</span><span class="token operator">=</span><span class="token plain">ai-routes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This gives you <code>routes/ai.php</code> where you&#x27;ll register your MCP server.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-create-the-mcp-server">2. Create the MCP Server<a class="hash-link" href="#2-create-the-mcp-server" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">php artisan make:mcp-server WorkflowServer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Configure it with instructions for the AI:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">namespace App\Mcp\Servers;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Mcp\Tools\GetWorkflowResultTool;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Mcp\Tools\ListWorkflowsTool;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Mcp\Tools\StartWorkflowTool;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Laravel\Mcp\Server;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class WorkflowServer extends Server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected string $name = &#x27;Workflow Server&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected string $version = &#x27;1.0.0&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected string $instructions = &lt;&lt;&lt;&#x27;MARKDOWN&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        This server allows you to start and monitor Workflows.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ## Typical Usage Pattern</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        1. Call `list_workflows` to see what workflows are available.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        2. Call `start_workflow` with the workflow name and arguments.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        3. Store the returned `workflow_id`.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        4. Call `get_workflow_result` until status is `WorkflowCompletedStatus`.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        5. Read the `output` field for the result.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ## Status Values</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        - `WorkflowCreatedStatus` - Workflow has been created</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        - `WorkflowPendingStatus` - Queued for execution</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        - `WorkflowRunningStatus` - Currently executing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        - `WorkflowWaitingStatus` - Waiting (timer, signal, etc.)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        - `WorkflowCompletedStatus` - Finished successfully</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        - `WorkflowFailedStatus` - Encountered an error</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    MARKDOWN;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected array $tools = [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ListWorkflowsTool::class,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        StartWorkflowTool::class,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        GetWorkflowResultTool::class,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-create-the-start-workflow-tool">3. Create the Start Workflow Tool<a class="hash-link" href="#3-create-the-start-workflow-tool" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">php artisan make:mcp-tool StartWorkflowTool</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">namespace App\Mcp\Tools;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Contracts\JsonSchema\JsonSchema;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Support\Arr;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Laravel\Mcp\Request;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Laravel\Mcp\Response;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Laravel\Mcp\Server\Tool;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Workflow\Workflow;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Workflow\WorkflowStub;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class StartWorkflowTool extends Tool</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected string $description = &lt;&lt;&lt;&#x27;MARKDOWN&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Start a Workflow asynchronously and return its workflow ID.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        The workflow will execute in the background on the queue. Use the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        `get_workflow_result` tool to poll for status and retrieve results</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        once the workflow completes.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    MARKDOWN;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function handle(Request $request): Response</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $data = $request-&gt;validate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;workflow&#x27; =&gt; [&#x27;required&#x27;, &#x27;string&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;args&#x27; =&gt; [&#x27;nullable&#x27;, &#x27;array&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;external_id&#x27; =&gt; [&#x27;nullable&#x27;, &#x27;string&#x27;, &#x27;max:255&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $workflowKey = $data[&#x27;workflow&#x27;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $args = Arr::get($data, &#x27;args&#x27;, []);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $externalId = $data[&#x27;external_id&#x27;] ?? null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $workflowClass = $this-&gt;resolveWorkflowClass($workflowKey);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if ($workflowClass === null) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            return Response::error(&quot;Unknown workflow: {$workflowKey}&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (! class_exists($workflowClass) || ! is_subclass_of($workflowClass, Workflow::class)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            return Response::error(&quot;Invalid workflow class: {$workflowClass}&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $stub = WorkflowStub::make($workflowClass);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $stub-&gt;start(...array_values($args));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $status = $stub-&gt;status();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $statusName = is_object($status) ? class_basename($status) : class_basename((string) $status);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return Response::json([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;workflow_id&#x27; =&gt; $stub-&gt;id(),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;workflow&#x27; =&gt; $workflowKey,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;status&#x27; =&gt; $statusName,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;external_id&#x27; =&gt; $externalId,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;message&#x27; =&gt; &#x27;Workflow started. Use get_workflow_result to poll status.&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected function resolveWorkflowClass(string $key): ?string</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $mapped = config(&quot;workflow_mcp.workflows.{$key}&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if ($mapped !== null) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            return $mapped;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (config(&#x27;workflow_mcp.allow_fqcn&#x27;, false) &amp;&amp; str_contains($key, &#x27;\\&#x27;)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            return $key;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function schema(JsonSchema $schema): array</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $workflows = implode(&#x27;, &#x27;, array_keys(config(&#x27;workflow_mcp.workflows&#x27;, [])));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;workflow&#x27; =&gt; $schema-&gt;string()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                -&gt;description(&quot;The workflow to start. Available: {$workflows}&quot;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;args&#x27; =&gt; $schema-&gt;object()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                -&gt;description(&#x27;Arguments for the workflow execute() method.&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;external_id&#x27; =&gt; $schema-&gt;string()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                -&gt;description(&#x27;Optional idempotency key for tracking.&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-create-the-get-result-tool">4. Create the Get Result Tool<a class="hash-link" href="#4-create-the-get-result-tool" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">php artisan make:mcp-tool GetWorkflowResultTool</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">namespace App\Mcp\Tools;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\StoredWorkflow;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Contracts\JsonSchema\JsonSchema;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Laravel\Mcp\Request;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Laravel\Mcp\Response;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Laravel\Mcp\Server\Tool;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Workflow\States\WorkflowCompletedStatus;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Workflow\States\WorkflowFailedStatus;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Workflow\WorkflowStub;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class GetWorkflowResultTool extends Tool</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected string $description = &lt;&lt;&lt;&#x27;MARKDOWN&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Fetch the status and, if completed, the output of a Workflow.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Use the workflow_id returned by `start_workflow` to check progress.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Once status is `WorkflowCompletedStatus`, the output field contains the result.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    MARKDOWN;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function handle(Request $request): Response</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $data = $request-&gt;validate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;workflow_id&#x27; =&gt; [&#x27;required&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $workflowId = $data[&#x27;workflow_id&#x27;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $stored = StoredWorkflow::find($workflowId);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (! $stored) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            return Response::json([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &#x27;found&#x27; =&gt; false,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &#x27;message&#x27; =&gt; &quot;Workflow {$workflowId} not found.&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $workflow = WorkflowStub::load($workflowId);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $status = $workflow-&gt;status();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $statusName = is_object($status) ? class_basename($status) : class_basename((string) $status);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $running = $workflow-&gt;running();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $result = null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $error = null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (! $running &amp;&amp; str_contains($statusName, &#x27;Completed&#x27;)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            $result = $workflow-&gt;output();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (! $running &amp;&amp; str_contains($statusName, &#x27;Failed&#x27;)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            $exception = $stored-&gt;exceptions()-&gt;latest()-&gt;first();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            $error = $exception?-&gt;exception ?? &#x27;Unknown error&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return Response::json([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;found&#x27; =&gt; true,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;workflow_id&#x27; =&gt; $workflowId,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;status&#x27; =&gt; $statusName,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;running&#x27; =&gt; $running,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;output&#x27; =&gt; $result,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;error&#x27; =&gt; $error,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;created_at&#x27; =&gt; $stored-&gt;created_at?-&gt;toIso8601String(),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;updated_at&#x27; =&gt; $stored-&gt;updated_at?-&gt;toIso8601String(),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function schema(JsonSchema $schema): array</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;workflow_id&#x27; =&gt; $schema-&gt;string()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                -&gt;description(&#x27;The workflow ID returned by start_workflow.&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="5-create-the-list-workflows-tool">5. Create the List Workflows Tool<a class="hash-link" href="#5-create-the-list-workflows-tool" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">php artisan make:mcp-tool ListWorkflowsTool</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">namespace App\Mcp\Tools;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\StoredWorkflow;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Contracts\JsonSchema\JsonSchema;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Laravel\Mcp\Request;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Laravel\Mcp\Response;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Laravel\Mcp\Server\Tool;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class ListWorkflowsTool extends Tool</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected string $description = &lt;&lt;&lt;&#x27;MARKDOWN&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        List available workflow types and optionally show recent workflow runs.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Use this to discover what workflows can be started, or to see</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        the status of recent executions.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    MARKDOWN;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function handle(Request $request): Response</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $data = $request-&gt;validate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;show_recent&#x27; =&gt; [&#x27;nullable&#x27;, &#x27;boolean&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;limit&#x27; =&gt; [&#x27;nullable&#x27;, &#x27;integer&#x27;, &#x27;min:1&#x27;, &#x27;max:50&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;status&#x27; =&gt; [&#x27;nullable&#x27;, &#x27;string&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $showRecent = $data[&#x27;show_recent&#x27;] ?? false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $limit = $data[&#x27;limit&#x27;] ?? 10;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $statusFilter = $data[&#x27;status&#x27;] ?? null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $availableWorkflows = [];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        foreach (config(&#x27;workflow_mcp.workflows&#x27;, []) as $key =&gt; $class) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            $availableWorkflows[] = [&#x27;key&#x27; =&gt; $key, &#x27;class&#x27; =&gt; $class];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $response = [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;available_workflows&#x27; =&gt; $availableWorkflows,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if ($showRecent) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            $query = StoredWorkflow::query()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                -&gt;orderBy(&#x27;created_at&#x27;, &#x27;desc&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                -&gt;limit($limit);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if ($statusFilter) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                $query-&gt;where(&#x27;status&#x27;, &#x27;like&#x27;, &quot;%{$statusFilter}%&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            $response[&#x27;recent_workflows&#x27;] = $query-&gt;get()-&gt;map(function ($w) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                $status = $w-&gt;status;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                $statusName = is_object($status) ? class_basename($status) : class_basename((string) $status);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                return [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &#x27;id&#x27; =&gt; $w-&gt;id,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &#x27;class&#x27; =&gt; $w-&gt;class,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &#x27;status&#x27; =&gt; $statusName,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &#x27;created_at&#x27; =&gt; $w-&gt;created_at?-&gt;toIso8601String(),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                ];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return Response::json($response);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function schema(JsonSchema $schema): array</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;show_recent&#x27; =&gt; $schema-&gt;boolean()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                -&gt;description(&#x27;Include recent workflow runs in response.&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;limit&#x27; =&gt; $schema-&gt;integer()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                -&gt;description(&#x27;Max recent workflows to return (default: 10).&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;status&#x27; =&gt; $schema-&gt;string()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                -&gt;description(&#x27;Filter by status (e.g., &quot;Completed&quot;, &quot;Failed&quot;).&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="6-configure-available-workflows">6. Configure Available Workflows<a class="hash-link" href="#6-configure-available-workflows" title="Direct link to heading">​</a></h4><p>Create <code>config/workflow_mcp.php</code> to whitelist which workflows AI clients can start:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">return [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;allow_fqcn&#x27; =&gt; env(&#x27;WORKFLOW_MCP_ALLOW_FQCN&#x27;, false),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;workflows&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;simple&#x27; =&gt; App\Workflows\Simple\SimpleWorkflow::class,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;prism&#x27; =&gt; App\Workflows\Prism\PrismWorkflow::class,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This prevents arbitrary class execution. Only mapped workflows are accessible.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="7-register-the-mcp-server">7. Register the MCP Server<a class="hash-link" href="#7-register-the-mcp-server" title="Direct link to heading">​</a></h4><p>Update <code>routes/ai.php</code>:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Mcp\Servers\WorkflowServer;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Laravel\Mcp\Facades\Mcp;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Mcp::web(&#x27;/mcp/workflows&#x27;, WorkflowServer::class);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="connecting-ai-clients">Connecting AI Clients<a class="hash-link" href="#connecting-ai-clients" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="vs-code--github-copilot">VS Code / GitHub Copilot<a class="hash-link" href="#vs-code--github-copilot" title="Direct link to heading">​</a></h4><p>Create <code>.vscode/mcp.json</code> in your project:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;servers&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;laravel-workflow&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;http&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;url&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;http://localhost/mcp/workflows&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This configuration works for both local development and GitHub Codespaces. In Codespaces, the VS Code server runs inside the container, so <code>localhost</code> correctly reaches the Laravel server without needing public ports or the <code>*.app.github.dev</code> URL.</p><p>After reloading VS Code (Cmd/Ctrl+Shift+P → &quot;Developer: Reload Window&quot;), Copilot can use the workflow tools directly in chat.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="real-world-usage">Real-World Usage<a class="hash-link" href="#real-world-usage" title="Direct link to heading">​</a></h3><p>Once connected, you can have natural conversations with your AI assistant:</p><blockquote><p><strong>You:</strong> &quot;What workflows are available?&quot;</p><p><strong>AI:</strong> <em>calls list_workflows</em> &quot;I found 2 workflows: <code>simple</code> and <code>prism</code>.&quot;</p></blockquote><blockquote><p><strong>You:</strong> &quot;Start the prism workflow&quot;</p><p><strong>AI:</strong> <em>calls start_workflow</em> &quot;Started workflow ID 42. I&#x27;ll check its status.&quot;</p></blockquote><blockquote><p><strong>AI:</strong> <em>calls get_workflow_result</em> &quot;The workflow completed! Here&#x27;s the generated user profile: { name: &#x27;Elena&#x27;, hobbies: <!-- -->[...]<!-- --> }&quot;</p></blockquote><p>This creates a seamless experience where AI assistants can orchestrate complex, long-running operations while keeping the user informed.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-makes-this-pattern-powerful">What Makes This Pattern Powerful<a class="hash-link" href="#what-makes-this-pattern-powerful" title="Direct link to heading">​</a></h3><ul><li><strong>Durability</strong>: Workflows survive server restarts and network failures</li><li><strong>Async by design</strong>: AI clients don&#x27;t block waiting for completion</li><li><strong>Observable</strong>: Every workflow is tracked in Waterline&#x27;s dashboard</li><li><strong>Secure</strong>: Whitelist-based workflow access prevents arbitrary execution</li><li><strong>Stateless MCP</strong>: The server holds no state. Clients track workflow IDs</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="try-it-now-in-your-browser">Try It Now in Your Browser<a class="hash-link" href="#try-it-now-in-your-browser" title="Direct link to heading">​</a></h3><p>This MCP integration is included and pre-configured in the Durable Workflow <a href="https://github.com/durable-workflow/sample-app" target="_blank" rel="noopener noreferrer">Sample App</a>.</p><p>To try it:</p><ol><li>Open the sample-app repo on GitHub</li><li>Click <strong>Code</strong> → <strong>Codespaces</strong> → <strong>Create codespace on main</strong></li><li>Wait for the environment to build</li><li>Setup the app and start the queue worker:<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">php artisan app:init</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">php artisan queue:work</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>Enable the Durable Workflow Server MCP tools</li><li>Ask your AI to list and run workflows!</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="where-to-go-from-here">Where to Go From Here<a class="hash-link" href="#where-to-go-from-here" title="Direct link to heading">​</a></h3><p>You can extend this pattern to:</p><ul><li><strong>Parameterized workflows</strong>: Pass user input to workflow arguments</li><li><strong>Webhook notifications</strong>: Push completion events instead of polling</li><li><strong>Workflow signals</strong>: Let AI clients send signals to waiting workflows</li><li><strong>Progress streaming</strong>: Use SSE to stream workflow progress in real-time</li><li><strong>Multi-step agents</strong>: Chain multiple workflows together in a conversation</li></ul><p>The combination of Durable Workflow&#x27;s durable execution and MCP&#x27;s tool protocol creates a foundation for truly capable AI agents that can handle real-world complexity.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">ai</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/workflow">workflow</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/mcp">mcp</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/agents">agents</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/tools">tools</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/durable-workflow/durable-workflow.github.io/edit/main/blog/2025-12-03-laravel-workflows-as-mcp-tools-for-ai-clients.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/building-a-durable-ai-travel-agent-with-laravel"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Building a Durable AI Travel Agent with Laravel</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/building-reliable-agentic-loops-with-laravel-workflow-and-prismphp"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Building Reliable Agentic Loops with Workflow and PrismPHP</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-mcp--durable-workflow" class="table-of-contents__link toc-highlight">Why MCP + Durable Workflow?</a></li><li><a href="#what-were-building" class="table-of-contents__link toc-highlight">What We&#39;re Building</a></li><li><a href="#step-by-step-implementation" class="table-of-contents__link toc-highlight">Step-by-Step Implementation</a></li><li><a href="#connecting-ai-clients" class="table-of-contents__link toc-highlight">Connecting AI Clients</a></li><li><a href="#real-world-usage" class="table-of-contents__link toc-highlight">Real-World Usage</a></li><li><a href="#what-makes-this-pattern-powerful" class="table-of-contents__link toc-highlight">What Makes This Pattern Powerful</a></li><li><a href="#try-it-now-in-your-browser" class="table-of-contents__link toc-highlight">Try It Now in Your Browser</a></li><li><a href="#where-to-go-from-here" class="table-of-contents__link toc-highlight">Where to Go From Here</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/installation">Installation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/xu5aDDpqVy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/DurableWorkflow" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://durable-workflow.com/llms.txt" target="_blank" rel="noopener noreferrer" class="footer__link-item">LLM Docs</a></li><li class="footer__item"><a href="https://github.com/durable-workflow/workflow" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 <a href="https://durable-workflow.com">Durable Workflow</a>.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.7aeeac24.js"></script>
<script src="/assets/js/main.0df5bae2.js"></script>
</body>
</html>